<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/pages.css">
    <link rel="stylesheet" href="{{asset("assets/css/prism.css")}}">
    <link rel="stylesheet" href="{{asset("assets/css/prism-unescaped-markup.min.css")}}">
    <title>Osnovne funkcije</title>
</head>
<body>
    <h1>OSNOVNE FUNKCIJE</h1>
    <br>
    <div class = "codeDisplay">
        <pre>
            <code>
                const grayscale = function (ev) {
                    undoArr = copyArray();
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    for (let i = 0; i < arr.length; i += 4) {
                        let ttl = arr[i] + arr[i + 1] + arr[i + 2];
                        let avg = parseInt(ttl / 3);
                        arr[i] = avg;
                        arr[i + 1] = avg;
                        arr[i + 2] = avg;
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
                -----------------------------------------------------------------------------------------------------------
                const threshold = function (ev) {
                    undoArr = copyArray();
                    let val = document.getElementById("example").value;
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    let thresh = val;
                    for (let i = 0; i < arr.length; i += 4) {
                        arr[i] = (arr[i] > thresh) ? arr[i] = 255 : arr[i] = 0;
                        arr[i + 1] = (arr[i + 1] > thresh) ? arr[i + 1] = 255 : arr[i + 1] = 0;
                        arr[i + 2] = (arr[i + 2] > thresh) ? arr[i + 2] = 255 : arr[i + 2] = 0;
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
                -----------------------------------------------------------------------------------------------------------
                const enhanceRGBchannel = function (ev) {
                    undoArr = copyArray();
                    let ecolor = document.getElementById("ergbV").value.toUpperCase();
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    for (let i = 0; i < arr.length; i = i + 4) {
                        switch (ecolor) {
                            case 'R':
                                arr[i + 1] = 0, arr[i + 2] = 0;
                                break;
                            case 'G':
                                arr[i] = 0, arr[i + 2] = 0;
                                break;
                            case 'B':
                                arr[i] = 0, arr[i + 1] = 0;
                                break;
                        }
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
                -----------------------------------------------------------------------------------------------------------
                const removeRGBchannel = function (ev) {
                    undoArr = copyArray();
                    let rcolor = document.getElementById("rrgbV").value.toUpperCase();
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    for (let i = 0; i < arr.length; i += 4) {
                        switch (rcolor) {
                            case 'R':
                                arr[i] = 0;
                                break;
                            case 'G':
                                arr[i + 1] = 0;
                                break;
                            case 'B':
                                arr[i + 2] = 0;
                                break;
                        }
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
                -----------------------------------------------------------------------------------------------------------
                const brightness = function (ev) {
                    undoArr = copyArray();
                    let bright = parseInt(document.getElementById("bright").value);
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    for (let i = 0; i < arr.length; i += 4) {
                        arr[i + 3] = bright;
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
                -----------------------------------------------------------------------------------------------------------
                const invert = function (ev) {
                    undoArr = copyArray();
                    imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    let arr = imgData.data;
                    for (let i = 0; i < arr.length; i += 4) {
                        arr[i] = 255 - arr[i];
                        arr[i + 1] = 255 - arr[i + 1];
                        arr[i + 2] = 255 - arr[i + 2];
                    }
                    imgData.data = arr;
                    ctx.putImageData(imgData, 0, 0);
                    redoArr = copyArray();
                }
            </code>
          </pre>
    </div>
    <div id = "copyright">
        <p>&copy; Blaž Kovačič</p>
    </div>
</body>
</html>